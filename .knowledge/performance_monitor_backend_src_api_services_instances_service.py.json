{"is_source_file": true, "format": "Python", "description": "This file defines service functions for managing in-memory storage of database instances, including creating, retrieving, updating, and deleting instance records. It includes a data class for instance records and functions that operate on these records, acting as a backend service layer in a web application.", "external_files": ["src.api.schemas.common", "src.api.schemas.instances"], "external_methods": ["src.api.schemas.common.utc_now"], "published": ["list_instances", "get_instance", "create_instance", "update_instance", "delete_instance"], "classes": [{"name": "_InstanceRecord", "description": "A data class representing a database instance record with attributes like id, name, host, port, etc."}], "methods": [{"name": "InstanceOut _to_out(rec: _InstanceRecord)", "description": "Converts an internal _InstanceRecord to an external InstanceOut schema.", "scope": "", "scopeKind": ""}, {"name": "List[InstanceOut] list_instances()", "description": "Returns a list of all current instance records in the system.", "scope": "", "scopeKind": ""}, {"name": "Optional[InstanceOut] get_instance(instance_id: str)", "description": "Retrieves a single instance by its ID, returning None if not found.", "scope": "", "scopeKind": ""}, {"name": "InstanceOut create_instance(payload: InstanceCreate)", "description": "Creates a new instance record from a provided payload and stores it in memory.", "scope": "", "scopeKind": ""}, {"name": "Optional[InstanceOut] update_instance(instance_id: str, payload: InstanceUpdate)", "description": "Updates an existing instance record based on provided payload; returns None if the record does not exist.", "scope": "", "scopeKind": ""}, {"name": "bool delete_instance(instance_id: str)", "description": "Deletes an instance record by ID; returns True if the record was deleted, False otherwise.", "scope": "", "scopeKind": ""}], "calls": ["utc_now", "uuid4", "_to_out"], "search-terms": ["instances_service", "in-memory store", "UUID generation", "InstanceCreate", "InstanceOut", "InstanceUpdate"], "state": 2, "file_id": 10, "knowledge_revision": 32, "git_revision": "5c1110a3ebc62d3d78963eacede0143bf7676821", "ctags": [{"_type": "tag", "name": "_INSTANCE_STORE", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^_INSTANCE_STORE: Dict[str, _InstanceRecord] = {}$/", "language": "Python", "typeref": "typename:Dict[str, _InstanceRecord]", "kind": "variable"}, {"_type": "tag", "name": "_InstanceRecord", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^class _InstanceRecord:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_to_out", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^def _to_out(rec: _InstanceRecord) -> InstanceOut:$/", "language": "Python", "typeref": "typename:InstanceOut", "kind": "function", "signature": "(rec: _InstanceRecord)"}, {"_type": "tag", "name": "create_instance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^def create_instance(payload: InstanceCreate) -> InstanceOut:$/", "language": "Python", "typeref": "typename:InstanceOut", "kind": "function", "signature": "(payload: InstanceCreate)"}, {"_type": "tag", "name": "delete_instance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^def delete_instance(instance_id: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(instance_id: str)"}, {"_type": "tag", "name": "get_instance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^def get_instance(instance_id: str) -> Optional[InstanceOut]:$/", "language": "Python", "typeref": "typename:Optional[InstanceOut]", "kind": "function", "signature": "(instance_id: str)"}, {"_type": "tag", "name": "list_instances", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^def list_instances() -> List[InstanceOut]:$/", "language": "Python", "typeref": "typename:List[InstanceOut]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "update_instance", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/services/instances_service.py", "pattern": "/^def update_instance(instance_id: str, payload: InstanceUpdate) -> Optional[InstanceOut]:$/", "language": "Python", "typeref": "typename:Optional[InstanceOut]", "kind": "function", "signature": "(instance_id: str, payload: InstanceUpdate)"}], "hash": "2b80f2b8d35200b00175151a5d8aab7d", "format-version": 4, "code-base-name": "performance_monitor_backend", "filename": "performance_monitor_backend/src/api/services/instances_service.py", "fields": [{"name": "Dict[str, _InstanceRecord] _INSTANCE_STORE", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"32": "5c1110a3ebc62d3d78963eacede0143bf7676821"}]}