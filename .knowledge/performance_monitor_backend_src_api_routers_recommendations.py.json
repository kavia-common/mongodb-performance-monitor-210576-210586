{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing recommendations in a performance monitoring system using FastAPI. It includes endpoints for listing, refreshing, and updating recommendations, utilizing services for business logic and schemas for request/response validation.", "external_files": ["src.api.schemas.common", "src.api.schemas.insights", "src.api.services.recommendations_service"], "external_methods": ["recommendations_service.list_recommendations", "recommendations_service.refresh_recommendations", "recommendations_service.update_recommendation_status"], "published": ["list_recommendations", "refresh_recommendations", "patch_recommendation"], "classes": [], "methods": [{"name": "RecommendationsResponse list_recommendations( request: Request, instance_id: Optional[str] = Query(default=None, alias=\"instanceId\"), )", "description": "Handles GET requests to retrieve the latest recommendations, optionally filtered by instanceId.", "scope": "", "scopeKind": ""}, {"name": "RecommendationsResponse refresh_recommendations( request: Request, instance_id: str = Query(..., alias=\"instanceId\", description=\"Instance identifier to recompute recommendations for.\"), )", "description": "Handles POST requests to recompute and persist recommendations for a specific instanceId.", "scope": "", "scopeKind": ""}, {"name": "RecommendationOut patch_recommendation( request: Request, payload: RecommendationStatusUpdate, rec_id: str = Path(..., description=\"Recommendation id (Mongo ObjectId string).\"), )", "description": "Handles PATCH requests to update the status and notes of a specific recommendation identified by rec_id.", "scope": "", "scopeKind": ""}], "calls": ["recommendations_service.list_recommendations", "recommendations_service.refresh_recommendations", "recommendations_service.list_recommendations", "recommendations_service.update_recommendation_status"], "search-terms": ["FastAPI recommendations API", "recommendations service", "recommendations route handlers", "recommendations schema", "recommendations refresh"], "state": 2, "file_id": 17, "knowledge_revision": 62, "git_revision": "d21f925c1fc950dcc3050ff0205bcb57f4237af9", "revision_history": [{"39": "5c1110a3ebc62d3d78963eacede0143bf7676821"}, {"62": "d21f925c1fc950dcc3050ff0205bcb57f4237af9"}], "ctags": [{"_type": "tag", "name": "list_recommendations", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/recommendations.py", "pattern": "/^def list_recommendations($/", "language": "Python", "typeref": "typename:RecommendationsResponse", "kind": "function", "signature": "( request: Request, instance_id: Optional[str] = Query(default=None, alias=\"instanceId\"), )"}, {"_type": "tag", "name": "patch_recommendation", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/recommendations.py", "pattern": "/^def patch_recommendation($/", "language": "Python", "typeref": "typename:RecommendationOut", "kind": "function", "signature": "( request: Request, payload: RecommendationStatusUpdate, rec_id: str = Path(..., description=\"Recommendation id (Mongo ObjectId string).\"), )"}, {"_type": "tag", "name": "refresh_recommendations", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/recommendations.py", "pattern": "/^def refresh_recommendations($/", "language": "Python", "typeref": "typename:RecommendationsResponse", "kind": "function", "signature": "( request: Request, instance_id: str = Query(..., alias=\"instanceId\", description=\"Instance identifier to recompute recommendations for.\"), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/recommendations.py", "pattern": "/^router = APIRouter(prefix=\"\\/api\\/recommendations\", tags=[\"Recommendations\"])$/", "language": "Python", "kind": "variable"}], "hash": "8c12fc72a27cc11a396b95c4c7bdd9a4", "format-version": 4, "code-base-name": "performance_monitor_backend", "filename": "performance_monitor_backend/src/api/routers/recommendations.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/api\\/recommendations\", tags=[\"Recommendations\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}