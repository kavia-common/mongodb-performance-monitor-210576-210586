{"is_source_file": true, "format": "Python", "description": "This Python source file defines API route handlers for managing alert rules and alert events in a FastAPI application. It includes endpoints for listing, creating, retrieving, updating, patching, and deleting alert rules, as well as listing alert events with optional filters.", "external_files": ["src.api.schemas.alerts", "src.api.schemas.common", "src.api.services.alerts_service"], "external_methods": ["alerts_service.list_rules", "alerts_service.create_rule", "alerts_service.get_rule", "alerts_service.put_rule", "alerts_service.patch_rule", "alerts_service.delete_rule", "alerts_service.list_events"], "published": ["list_rules", "create_rule", "get_rule", "put_rule", "patch_rule", "delete_rule", "list_events"], "classes": [], "methods": [{"name": "AlertRuleListResponse list_rules( request: Request, instance_id: Optional[str] = Query(default=None, alias=\"instanceId\", description=\"Optional instance filter.\"), )", "description": "Lists alert rules with optional filtering by instanceId.", "scope": "", "scopeKind": ""}, {"name": "AlertRuleOut create_rule(request: Request, payload: AlertRuleCreate)", "description": "Creates a new alert rule after validating its name field.", "scope": "", "scopeKind": ""}, {"name": "AlertRuleOut get_rule( request: Request, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )", "description": "Retrieves a specific alert rule by its ruleId.", "scope": "", "scopeKind": ""}, {"name": "AlertRuleOut put_rule( request: Request, payload: AlertRuleCreate, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )", "description": "Replaces an existing alert rule identified by ruleId, requiring a full update.", "scope": "", "scopeKind": ""}, {"name": "AlertRuleOut patch_rule( request: Request, payload: AlertRuleUpdate, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )", "description": "Partially updates an alert rule identified by ruleId.", "scope": "", "scopeKind": ""}, {"name": "None delete_rule( request: Request, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )", "description": "Deletes an alert rule by its ruleId.", "scope": "", "scopeKind": ""}, {"name": "AlertEventListResponse list_events( request: Request, instance_id: Optional[str] = Query(default=None, alias=\"instanceId\"), rule_id: Optional[str] = Query(default=None, alias=\"ruleId\"), status_filter: Optional[str] = Query(default=None, alias=\"status\", description=\"ok|triggered\"), event_type: Optional[str] = Query(default=None, alias=\"eventType\", description=\"triggered|resolved\"), start: Optional[str] = Query(default=None, description=\"ISO datetime start (inclusive)\"), end: Optional[str] = Query(default=None, description=\"ISO datetime end (inclusive)\"), limit: int = Query(100, ge=1, le=500), offset: int = Query(0, ge=0, le=100000), )", "description": "Lists alert events with optional filters such as instanceId, ruleId, status, eventType, and time range.", "scope": "", "scopeKind": ""}], "calls": ["alerts_service.list_rules", "alerts_service.create_rule", "alerts_service.get_rule", "alerts_service.put_rule", "alerts_service.patch_rule", "alerts_service.delete_rule", "alerts_service.list_events"], "search-terms": ["alerts", "api routers", "alert rules", "alert events", "FastAPI route handlers"], "state": 2, "file_id": 16, "knowledge_revision": 72, "git_revision": "9e7446029497066b1021343648c0face5bcaa592", "revision_history": [{"38": "5c1110a3ebc62d3d78963eacede0143bf7676821"}, {"72": "9e7446029497066b1021343648c0face5bcaa592"}], "ctags": [{"_type": "tag", "name": "create_rule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def create_rule(request: Request, payload: AlertRuleCreate) -> AlertRuleOut:$/", "language": "Python", "typeref": "typename:AlertRuleOut", "kind": "function", "signature": "(request: Request, payload: AlertRuleCreate)"}, {"_type": "tag", "name": "delete_rule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def delete_rule($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( request: Request, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )"}, {"_type": "tag", "name": "get_rule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def get_rule($/", "language": "Python", "typeref": "typename:AlertRuleOut", "kind": "function", "signature": "( request: Request, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )"}, {"_type": "tag", "name": "list_events", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def list_events($/", "language": "Python", "typeref": "typename:AlertEventListResponse", "kind": "function", "signature": "( request: Request, instance_id: Optional[str] = Query(default=None, alias=\"instanceId\"), rule_id: Optional[str] = Query(default=None, alias=\"ruleId\"), status_filter: Optional[str] = Query(default=None, alias=\"status\", description=\"ok|triggered\"), event_type: Optional[str] = Query(default=None, alias=\"eventType\", description=\"triggered|resolved\"), start: Optional[str] = Query(default=None, description=\"ISO datetime start (inclusive)\"), end: Optional[str] = Query(default=None, description=\"ISO datetime end (inclusive)\"), limit: int = Query(100, ge=1, le=500), offset: int = Query(0, ge=0, le=100000), )"}, {"_type": "tag", "name": "list_rules", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def list_rules($/", "language": "Python", "typeref": "typename:AlertRuleListResponse", "kind": "function", "signature": "( request: Request, instance_id: Optional[str] = Query(default=None, alias=\"instanceId\", description=\"Optional instance filter.\"), )"}, {"_type": "tag", "name": "patch_rule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def patch_rule($/", "language": "Python", "typeref": "typename:AlertRuleOut", "kind": "function", "signature": "( request: Request, payload: AlertRuleUpdate, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )"}, {"_type": "tag", "name": "put_rule", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^def put_rule($/", "language": "Python", "typeref": "typename:AlertRuleOut", "kind": "function", "signature": "( request: Request, payload: AlertRuleCreate, rule_id: str = Path(..., description=\"Rule id (Mongo ObjectId string).\"), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/routers/alerts.py", "pattern": "/^router = APIRouter(prefix=\"\\/api\\/alerts\", tags=[\"Alerts\"])$/", "language": "Python", "kind": "variable"}], "hash": "7535ad5df6671356d21fc6c65a51add7", "format-version": 4, "code-base-name": "performance_monitor_backend", "filename": "performance_monitor_backend/src/api/routers/alerts.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/api\\/alerts\", tags=[\"Alerts\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}