{"is_source_file": true, "format": "Python", "description": "This file contains asynchronous test functions for the alerts engine and API of a performance monitoring backend, using pytest and httpx. It tests alert rule creation, triggering, resolving, and deduplication logic by mocking database inserts and API calls.", "external_files": ["httpx", "pytest", "datetime"], "external_methods": ["httpx.AsyncClient.post", "httpx.AsyncClient.get", "datetime.now", "datetime.timedelta", "datetime.timezone", "pytest.mark.anyio", "__import__('asyncio').sleep"], "published": [], "classes": [], "methods": [{"name": "datetime _now()", "description": "Returns the current UTC datetime.", "scope": "", "scopeKind": ""}, {"name": "test_alerts_dedup_no_duplicate_events_without_state_change( async_client: httpx.AsyncClient, mongo_db, create_test_instance: str, )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_alerts_rule_crud_and_events_trigger_resolve( async_client: httpx.AsyncClient, mongo_db, create_test_instance: str, )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["httpx.AsyncClient.post", "httpx.AsyncClient.get", "datetime.now", "datetime.timedelta", "__import__('asyncio').sleep", "mongo_db['metrics_samples'].insert_many", "mongo_db['metrics_samples'].insert_one"], "search-terms": ["test_alerts_engine_and_api", "async_client", "metrics_samples", "alert rules", "triggered", "resolved", "deduplication"], "state": 2, "file_id": 36, "knowledge_revision": 103, "git_revision": "", "ctags": [{"_type": "tag", "name": "_now", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/tests/test_alerts_engine_and_api.py", "pattern": "/^def _now() -> datetime:$/", "language": "Python", "typeref": "typename:datetime", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_alerts_dedup_no_duplicate_events_without_state_change", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/tests/test_alerts_engine_and_api.py", "pattern": "/^async def test_alerts_dedup_no_duplicate_events_without_state_change($/", "language": "Python", "kind": "function", "signature": "( async_client: httpx.AsyncClient, mongo_db, create_test_instance: str, )"}, {"_type": "tag", "name": "test_alerts_rule_crud_and_events_trigger_resolve", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/tests/test_alerts_engine_and_api.py", "pattern": "/^async def test_alerts_rule_crud_and_events_trigger_resolve($/", "language": "Python", "kind": "function", "signature": "( async_client: httpx.AsyncClient, mongo_db, create_test_instance: str, )"}], "hash": "e91d68771bb1d51b896089644cd99cb7", "format-version": 4, "code-base-name": "performance_monitor_backend", "filename": "performance_monitor_backend/tests/test_alerts_engine_and_api.py", "revision_history": [{"103": ""}]}