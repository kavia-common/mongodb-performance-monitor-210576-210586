{"is_source_file": true, "format": "Python", "description": "This file defines Pydantic data models for handling MongoDB performance metrics, including data points, summary snapshots, and request/response schemas for timeseries data.", "external_files": ["pydantic", "datetime", "typing"], "external_methods": [], "published": ["MetricValue", "MetricsSummary", "TimeseriesRequest", "TimeseriesResponse"], "classes": [{"name": "MetricValue", "description": "Represents a single metric data point with a timestamp and value."}, {"name": "MetricsSummary", "description": "Provides a high-level snapshot summary of MongoDB instance metrics."}, {"name": "TimeseriesRequest", "description": "Defines the request schema for fetching timeseries data for a specific metric."}, {"name": "TimeseriesResponse", "description": "Defines the response schema containing a list of metric data points for a specific timeseries query."}], "methods": [], "calls": [], "search-terms": ["pydantic models", "MongoDB metrics", "performance monitoring", "timeseries data", "metrics schema"], "state": 2, "file_id": 7, "knowledge_revision": 29, "git_revision": "5c1110a3ebc62d3d78963eacede0143bf7676821", "ctags": [{"_type": "tag", "name": "MetricValue", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^class MetricValue(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MetricsSummary", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^class MetricsSummary(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TimeseriesRequest", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^class TimeseriesRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TimeseriesResponse", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^class TimeseriesResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "as_of", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    as_of: datetime = Field(..., description=\"UTC timestamp representing when this summary was p/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "avg_query_ms", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    avg_query_ms: float = Field(..., ge=0, description=\"Approximate average query latency in mil/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "connections_current", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    connections_current: int = Field(..., ge=0, description=\"Current number of open connections./", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "cpu_pct", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    cpu_pct: float = Field(..., ge=0, le=100, description=\"Approximate CPU percent (host or cont/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    end: Optional[datetime] = Field(default=None, description=\"UTC end time (inclusive).\")$/", "language": "Python", "typeref": "typename:Optional[datetime]", "kind": "variable", "scope": "TimeseriesRequest", "scopeKind": "class"}, {"_type": "tag", "name": "instance_id", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    instance_id: str = Field(..., description=\"Instance ID the metrics correspond to.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "instance_id", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    instance_id: str = Field(..., description=\"Instance ID the timeseries corresponds to.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TimeseriesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "memory_mb", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    memory_mb: float = Field(..., ge=0, description=\"Approximate memory usage (MB).\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "metric", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    metric: Literal[$/", "language": "Python", "typeref": "typename:Literal[ \"connections_current\", \"operations_per_sec\", \"slow_ops_per_min\", \"avg_query_ms\", \"cpu_pct\", \"memory_mb\", ]", "kind": "variable", "scope": "TimeseriesRequest", "scopeKind": "class"}, {"_type": "tag", "name": "metric", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    metric: str = Field(..., description=\"Metric key.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TimeseriesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "operations_per_sec", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    operations_per_sec: float = Field(..., ge=0, description=\"Approximate operations per second./", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "points", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    points: List[MetricValue] = Field(..., description=\"Ordered list of points for charting.\")$/", "language": "Python", "typeref": "typename:List[MetricValue]", "kind": "variable", "scope": "TimeseriesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "slow_ops_per_min", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    slow_ops_per_min: float = Field(..., ge=0, description=\"Approximate slow operations per minu/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    start: Optional[datetime] = Field(default=None, description=\"UTC start time (inclusive).\")$/", "language": "Python", "typeref": "typename:Optional[datetime]", "kind": "variable", "scope": "TimeseriesRequest", "scopeKind": "class"}, {"_type": "tag", "name": "step_seconds", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    step_seconds: int = Field(60, ge=10, le=3600, description=\"Sampling granularity in seconds.\"/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "TimeseriesRequest", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    tags: Dict[str, str] = Field(default_factory=dict, description=\"Optional labels\\/tags for th/", "language": "Python", "typeref": "typename:Dict[str, str]", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "top_collections", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    top_collections: List[str] = Field($/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "MetricsSummary", "scopeKind": "class"}, {"_type": "tag", "name": "ts", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    ts: datetime = Field(..., description=\"UTC timestamp for the data point.\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "MetricValue", "scopeKind": "class"}, {"_type": "tag", "name": "unit", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    unit: str = Field(..., description=\"Unit string for display (e.g., 'ms', '%', 'count').\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TimeseriesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/mongodb-performance-monitor-210576-210586/performance_monitor_backend/src/api/schemas/metrics.py", "pattern": "/^    value: float = Field(..., description=\"Numeric value at the timestamp.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "MetricValue", "scopeKind": "class"}], "hash": "89d74a80fff8df57363aaaf14bd5eb38", "format-version": 4, "code-base-name": "performance_monitor_backend", "filename": "performance_monitor_backend/src/api/schemas/metrics.py", "fields": [{"name": "datetime as_of", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "float avg_query_ms", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "int connections_current", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "float cpu_pct", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[datetime] end", "scope": "TimeseriesRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str instance_id", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "float memory_mb", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "Literal[ \"connections_current\", \"operations_per_sec\", \"slow_ops_per_min\", \"avg_query_ms\", \"cpu_pct\", \"memory_mb\", ] metric", "scope": "TimeseriesRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str metric", "scope": "TimeseriesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float operations_per_sec", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "List[MetricValue] points", "scope": "TimeseriesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float slow_ops_per_min", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[datetime] start", "scope": "TimeseriesRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int step_seconds", "scope": "TimeseriesRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, str] tags", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] top_collections", "scope": "MetricsSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime ts", "scope": "MetricValue", "scopeKind": "class", "description": "unavailable"}, {"name": "str unit", "scope": "TimeseriesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float value", "scope": "MetricValue", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": "5c1110a3ebc62d3d78963eacede0143bf7676821"}]}